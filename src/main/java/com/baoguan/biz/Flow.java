package com.baoguan.biz;/** * Function: <br/> * REASON: <br/> * VERSION: 4.0 * * @Auther: zhangyang * @Date: 2019/3/7. */import com.baoguan.biz.entity.YiTG_reQuery;import com.baoguan.biz.penghy.PENGhyBiz;import com.baoguan.biz.ygx.YanTGBiz;import com.baoguan.biz.ytg.YiTGBiz;import com.baoguan.biz.ywt.YiWTBiz;import com.baoguan.tools.JsonUtils;import java.util.Map;/** * File Name:Flow * @Description 定义流程 * Date:2019/3/7 10:41 * @author zhangyang * @Version 4.0 * Copyright (c) 2019,  All Rights Reserved. */public class Flow {    PENGhyBiz penghy = null;    YanTGBiz yantg = null;    YiTGBiz ytg = null;    YiWTBiz yiwt = null;    //初始化进行成员变量得实例    public void init(){        penghy = new PENGhyBiz();        yantg = new YanTGBiz();        ytg = new YiTGBiz();        yiwt = new YiWTBiz();    }    public int login(String serverName,String cookie){        if(ServerName.YWT.equals(serverName)){        }else if(ServerName.PENGHY.equals(serverName)){        }else if(ServerName.YGX.equals(serverName)){        }else if(ServerName.YTG.equals(serverName)){        }        return 0;    }    /**     * @Author zhangyang     * @Description //判断当前的单据在哪个系统里     * @Date 10:46 2019/3/7     * @param no     * @return java.lang.String     **/    public String isExistIn(String no){        //先查询是否在易通关        YiTGBiz ytg = new YiTGBiz();        String data = null;        YiTG_reQuery yi  = ytg.getBerthByBoxNo(no,ytg.getHeader());        if(yi==null ){            System.out.println("登录失效或者没有该单据");        }else{            //如果不为null,sType==2为易网通，3为鹏海运，5为自己的            String sType = yi.getsType();            String boartName = yi.getVesselEnFromMaTou();            if("2".equals(sType)) {//易网通                YiWTBiz ywt = new YiWTBiz();                ywt.getBoatByName(boartName,"","");                System.out.println("在易网通...");                return null;            }else if("3".equals(sType)){//鹏海运                PENGhyBiz pb = new PENGhyBiz();                pb.getDateByBoartNo(boartName);                System.out.println("在鹏海运...");                return null;            }else if("5".equals(sType)){//壹通关                YiTGBiz yig = new YiTGBiz();                System.out.println("在易通关...");                String s = JsonUtils.OjectToJson(yi);                System.out.println(s);                return null;            }        }        YanTGBiz yan = new YanTGBiz();        String _no = yan.getHtmlByCond(no);        Map<String,String> dataMap = yan.parseXMl(_no);        data = dataMap.get("船舶名称：");        if(data==null || "N/A".equals(data)){            System.out.println("该箱当前不在场");        }else{            System.out.println("可能在P\\Y\\Y-->"+data);        }//        PENGhyBiz pgh = new PENGhyBiz();//        data = pgh.getDateByBoartNo(no);        return data;    }    public static void main(String[] args) {        Flow f = new Flow();        f.isExistIn("TTNU1263503");    }}